<% if  @service.errors.any? %>
  $('#new_resoruce_error_explanation').empty();
  $('#new_resoruce_error_explanation').append("<%= escape_javascript render(:partial => 'resources/errors', :locals => { :resource => @service }) %>");
<% else %>
  $('#new_resoruce_error_explanation').empty();
  $('#services-widget').empty();
  $("#services-widget").append("<%= escape_javascript render(:partial => 'home/services', :locals => { :services => @services }) %>");
  $("#notifications_id").empty();
  $("#notifications_id").append('<div class="alert alert-success" role="alert">Successfully done!</div>');
  $("#notifications_id").fadeIn(3000).delay(5000).fadeOut('slow');
  $('.draggable').draggable({ cursor: "move", containment: "parent", cancel: "card-body", scroll: true,
  stop: function(){
    var finalOffset = $(this).offset();
    var finalxPos = finalOffset.left;
    var finalyPos = finalOffset.top;
    console.log(finalxPos)
    console.log(finalyPos)
    $('#finalX').text('Final X: ' + finalxPos);
    $('#finalY').text('Final X: ' + finalyPos);
  }

 });
<% end%>
